<mvc:View
    xmlns:mvc="sap.ui.core.mvc"
    xmlns="sap.m"
    xmlns:fb="sap.ui.comp.filterbar"
    xmlns:u="sap.ui.unified"
    xmlns:html="http://www.w3.org/1999/xhtml"
    xmlns:layout="sap.ui.layout"
    xmlns:form="sap.ui.layout.form"
    xmlns:f="sap.f"
    xmlns:core="sap.ui.core"
    xmlns:zcontrolPosFin="zsap.com.r3.cobi.s4.custposfin.z_s4_zposfinlink.controls"  
    xmlns:zcontrollinkSar="custlinksar.custlinksar.controls" 
    height="100%"
    controllerName="project1.controller.aImpegno"
>
    <App id="app">
        <f:DynamicPage showFooter="true">
            <f:header>
                <f:DynamicPageHeader pinnable="false">
                <layout:Grid defaultSpan="XL12 L12 M12 S12" vSpacing="0">
                    <!-- 1 riga -->
                    <HBox>
                        <Label id="numNI" text="{i18n>ProgressivoNI}:" design="Bold" class="lbl-header-margin-right"/>
                        <Label id="numNI1" text="{EntityModel>/Header/ZchiaveNi}" wrapping="true"/>
                        <layoutData>
                            <layout:GridData span="XL3 L3 M6 S12" />
                        </layoutData>
                    </HBox>
                    <HBox>
                        <Label id="dataReg" text="{i18n>DataRegistrazioneNI}:" design="Bold" class="lbl-header-margin-right"/>
                        <Label id="dataReg1" text="{path:'EntityModel>/Header/ZdataCreaz', formatter:'.formatter.convert'}"  wrapping="true"/>
                        <layoutData>
                            <layout:GridData span="XL3 L3 M6 S12" />
                        </layoutData>
                    </HBox>
                    <!-- 2 riga -->
                    <HBox>
                        <Label id="SARW2" text="{i18n>SAR}:" design="Bold" class="lbl-header-margin-right"/>
                        <zcontrollinkSar:LinkSar id="linkSarBilancio" anno="{EntityModel>/Header/Esercizio}" eos="E" fikrs="S001" fase="GEST" SEM_OBJ="" reale="R" 
                            versione="D" bilancio="" fictr="{EntityModel>/Header/Fistl}" datbis="99991231" text="{EntityModel>/Header/Fistl}"/>
                        <layoutData>
                            <layout:GridData span="XL3 L3 M6 S12" linebreak="true" />
                        </layoutData>
                    </HBox>                        
                    <HBox>
                        <Label id="pos_FinW2" text="{i18n>PF}:" design="Bold" class="lbl-header-margin-right"/>
                        <zcontrolPosFin:LinkPosizioneFinanziaria id="linkPosFinSpesa" anno="{EntityModel>/Header/Esercizio}" eos="S" fikrs="S001" fase="GEST" reale="R" 
                            versione="D" fipex="{EntityModel>/Header/Fipex}" datbis="99991231" text="{EntityModel>/Header/Fipex}" semanticObject="ESAMINAMODIFICA"/>
                        <layoutData>
                            <layout:GridData span="XL3 L3 M6 S12" />
                        </layoutData>
                    </HBox>
                    <HBox>
                        <Label id="oggSpesa" text="{i18n>oggSpesa}:" design="Bold" class="lbl-header-margin-right"/>
                        <Label id="oggSpesa1" text="{EntityModel>/Header/ZoggSpesa}" wrapping="true"/>
                        <layoutData>
                            <layout:GridData span="XL3 L3 M6 S12" />
                        </layoutData>
                    </HBox>
                    <!-- 3 riga -->
                    <HBox>
                        <Label id="mese" text="{i18n>Mese}:" design="Bold" class="lbl-header-margin-right"/>
                        <Label id="mese1" text="{path: 'EntityModel>/Header/Zmese', formatter:'.formatter.getMonthName'}"/>
                        <layoutData>
                            <layout:GridData span="XL3 L3 M6 S12" linebreak="true" />
                        </layoutData>
                    </HBox>
                    <HBox>
                        <Label id="comp" text="{i18n>comp}:" design="Bold" class="lbl-header-margin-right"/>
                        <Label id="comp1" text="{= ${EntityModel>/Header/ZcompRes} === 'C' ? 'Competenza' : ${EntityModel>/Header/ZcompRes} === 'R' ? 'Residui' : ''}"/>
                        <layoutData>
                            <layout:GridData span="XL3 L3 M6 S12" />
                        </layoutData>
                    </HBox>
                    <HBox>
                        <Label id="statoNI" text="{i18n>statoNI}:" design="Bold" class="lbl-header-margin-right"/>
                        <Label id="statoNI1" text="{EntityModel>/Header/ZcodiStatoniDesc}"/>
                        <layoutData>
                            <layout:GridData span="XL3 L3 M6 S12" />
                        </layoutData>
                    </HBox>
                    <!-- 4 riga -->
                    <HBox>
                        <Label id="importoTot" text="{i18n>importoTot}:" design="Bold" class="lbl-header-margin-right"/>
                        <Label id="importoTot1" text="{path: 'EntityModel>/Header/ZimpoTotni', formatter:'.formatter.convertFormattedNumber'}"/>
                        <layoutData>
                            <layout:GridData span="XL3 L3 M6 S12" linebreak="true"/>
                        </layoutData>
                    </HBox>
                </layout:Grid>
                    <!-- <layout:HorizontalLayout allowWrapping="true">
                        <layout:VerticalLayout class="sapUiMediumMarginEnd">
                            <HBox id="idHBox1">
                                <VBox id="idVBox11" class="sapUiSmallMargin" width="auto">
                                    <Label id="ProgressivoNI" text="{i18n>ProgressivoNI}"
                                        design="Bold" />
                                    <Text id="ProgressivoNI1" />
                                </VBox>
                                <VBox id="idVBox12" class="sapUiSmallMargin" width="auto">
                                    <Label id="data" text="{i18n>Data}" design="Bold" />
                                    <Text id="data1" wrapping="true" />
                                </VBox>
                            </HBox>
                            <HBox id="idHBox2">
                                <VBox id="idVBox13" class="sapUiSmallMargin" width="auto">
                                    <Label id="SAR" text="{i18n>SAR}" design="Bold" />
                                    <Text id="SAR1" />
                                </VBox>
                                <VBox id="idVBox14" class="sapUiSmallMargin" width="auto">
                                    <Label id="PF" text="{i18n>PF}" design="Bold" />
                                    <Text id="PF1" />
                                </VBox>
                                <VBox id="idVBox15" class="sapUiSmallMargin" width="auto">
                                    <Label id="oggSpesaNI" text="{i18n>oggSpesa}" design="Bold" />
                                    <Text id="oggSpesaNI1" />
                                </VBox>
                            </HBox>
                            <HBox id="idHBox3">
                                <VBox id="idVBox16" class="sapUiSmallMargin" width="auto">
                                    <Label id="mese" text="{i18n>mese}" design="Bold" />
                                    <Text id="mese1" />
                                </VBox>
                                <VBox id="idVBox17" class="sapUiSmallMargin" width="auto">
                                    <Label id="comp" text="{i18n>comp}" design="Bold" />
                                    <Text id="comp1" />
                                </VBox>
                                <VBox id="idVBox18" class="sapUiSmallMargin" width="auto">
                                    <Label id="statoNI" text="{i18n>statoNI}" design="Bold" />
                                    <Text id="statoNI1" />
                                </VBox>
                            </HBox>
                            <HBox id="idHBox4">
                                <VBox id="idVBox19" class="sapUiSmallMargin" width="auto">
                                    <Label id="importoTot" text="{i18n>importoTot}" design="Bold" />
                                    <Text id="importoTot1" />
                                </VBox>
                            </HBox>
                        </layout:VerticalLayout>
                    </layout:HorizontalLayout> -->
                </f:DynamicPageHeader>
            </f:header>
            <f:content>
                <VBox renderType="Bare" alignItems="Center" justifyContent="Center" id="Fragments">
                    <core:Fragment fragmentName="project1.fragment.form" type="XML" />
                    <core:Fragment fragmentName="project1.fragment.tableAssImp" type="XML"/>
                    <Bar>
                        <contentRight>
                            <Label text="{EntityModel>/TotAttribuito} " id="importoAttributo"/>
                            <Button text="Calcola" type="Emphasized" width="80px" press="onCalcolaPress"/>
                        </contentRight>
                    </Bar>
                </VBox> 
            </f:content>
            <f:footer>
                
                <Toolbar>
                    <Button text="Indietro" type="Emphasized" press="onBackButton" />
                    <Button text="Avanti" type="Emphasized" press="onForwardButton" />
                </Toolbar>
                <!-- <OverflowToolbar>
                    <Button text="Indietro" type="Emphasized" press="onBackButton" />
                    <Button text="Avanti" type="Emphasized" press="onForwardButton"/>
                </OverflowToolbar> -->
            </f:footer>
        </f:DynamicPage>
    </App>
</mvc:View>